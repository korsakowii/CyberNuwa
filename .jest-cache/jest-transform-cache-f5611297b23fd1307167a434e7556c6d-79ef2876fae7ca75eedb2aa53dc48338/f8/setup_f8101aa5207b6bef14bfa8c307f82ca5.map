{"version":3,"names":["_getJestObj","mock","require","jest","beforeAll","process","env","NODE_ENV","Object","defineProperty","window","writable","value","fn","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","global","ResizeObserver","observe","unobserve","disconnect","IntersectionObserver","getPropertyValue","scrollTo","afterEach","document","body","innerHTML","clearAllMocks","localStorage","clear","sessionStorage","afterAll","restoreAllMocks","expect","extend","toHaveClass","received","expectedClasses","pass","every","className","classList","contains","message","join","toHaveStyle","expectedStyles","computedStyles","getComputedStyle","entries","property","JSON","stringify","NEXT_PUBLIC_API_URL","NEXT_PUBLIC_APP_NAME"],"sources":["setup.ts"],"sourcesContent":["import '@testing-library/jest-dom';\n\n// 全局测试设置\nbeforeAll(() => {\n  // 设置测试环境变量\n  process.env.NODE_ENV = 'test';\n  \n  // 模拟浏览器API\n  Object.defineProperty(window, 'matchMedia', {\n    writable: true,\n    value: jest.fn().mockImplementation(query => ({\n      matches: false,\n      media: query,\n      onchange: null,\n      addListener: jest.fn(), // deprecated\n      removeListener: jest.fn(), // deprecated\n      addEventListener: jest.fn(),\n      removeEventListener: jest.fn(),\n      dispatchEvent: jest.fn(),\n    })),\n  });\n\n  // 模拟ResizeObserver\n  global.ResizeObserver = jest.fn().mockImplementation(() => ({\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  }));\n\n  // 模拟IntersectionObserver\n  global.IntersectionObserver = jest.fn().mockImplementation(() => ({\n    observe: jest.fn(),\n    unobserve: jest.fn(),\n    disconnect: jest.fn(),\n  }));\n\n  // 模拟getComputedStyle\n  Object.defineProperty(window, 'getComputedStyle', {\n    value: () => ({\n      getPropertyValue: () => '',\n    }),\n  });\n\n  // 模拟scrollTo\n  window.scrollTo = jest.fn();\n\n  // 模拟console方法（可选，用于调试）\n  // global.console = {\n  //   ...console,\n  //   warn: jest.fn(),\n  //   error: jest.fn(),\n  // };\n});\n\nafterEach(() => {\n  // 清理DOM\n  document.body.innerHTML = '';\n  \n  // 清理所有模拟\n  jest.clearAllMocks();\n  \n  // 清理localStorage和sessionStorage\n  localStorage.clear();\n  sessionStorage.clear();\n});\n\nafterAll(() => {\n  // 清理测试环境\n  jest.restoreAllMocks();\n});\n\n// 自定义匹配器\nexpect.extend({\n  toHaveClass(received, ...expectedClasses) {\n    const pass = expectedClasses.every(className => \n      received.classList.contains(className)\n    );\n    \n    if (pass) {\n      return {\n        message: () => `expected element not to have classes: ${expectedClasses.join(', ')}`,\n        pass: true,\n      };\n    } else {\n      return {\n        message: () => `expected element to have classes: ${expectedClasses.join(', ')}`,\n        pass: false,\n      };\n    }\n  },\n  \n  toHaveStyle(received, expectedStyles) {\n    const computedStyles = window.getComputedStyle(received);\n    const pass = Object.entries(expectedStyles).every(([property, value]) => \n      computedStyles.getPropertyValue(property) === value\n    );\n    \n    if (pass) {\n      return {\n        message: () => `expected element not to have styles: ${JSON.stringify(expectedStyles)}`,\n        pass: true,\n      };\n    } else {\n      return {\n        message: () => `expected element to have styles: ${JSON.stringify(expectedStyles)}`,\n        pass: false,\n      };\n    }\n  },\n});\n\n// 扩展全局类型\ndeclare global {\n  namespace jest {\n    interface Matchers<R> {\n      toHaveClass(...classNames: string[]): R;\n      toHaveStyle(styles: Record<string, string>): R;\n    }\n  }\n}\n\n// 模拟CSS模块\njest.mock('*.module.css', () => ({}));\njest.mock('*.module.scss', () => ({}));\njest.mock('*.module.sass', () => ({}));\n\n// 模拟图片和静态资源\njest.mock('*.png', () => 'mocked-png');\njest.mock('*.jpg', () => 'mocked-jpg');\njest.mock('*.jpeg', () => 'mocked-jpeg');\njest.mock('*.gif', () => 'mocked-gif');\njest.mock('*.svg', () => 'mocked-svg');\njest.mock('*.ico', () => 'mocked-ico');\njest.mock('*.webp', () => 'mocked-webp');\n\n// 模拟字体文件\njest.mock('*.woff', () => 'mocked-woff');\njest.mock('*.woff2', () => 'mocked-woff2');\njest.mock('*.ttf', () => 'mocked-ttf');\njest.mock('*.eot', () => 'mocked-eot');\n\n// 模拟音频和视频文件\njest.mock('*.mp3', () => 'mocked-mp3');\njest.mock('*.wav', () => 'mocked-wav');\njest.mock('*.mp4', () => 'mocked-mp4');\njest.mock('*.webm', () => 'mocked-webm');\n\n// 模拟JSON文件\njest.mock('*.json', () => ({}));\n\n// 模拟环境变量\nprocess.env.NEXT_PUBLIC_API_URL = 'http://localhost:3000/api';\nprocess.env.NEXT_PUBLIC_APP_NAME = 'CyberNuwa Test';\n"],"mappings":"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","ignoreList":[]}