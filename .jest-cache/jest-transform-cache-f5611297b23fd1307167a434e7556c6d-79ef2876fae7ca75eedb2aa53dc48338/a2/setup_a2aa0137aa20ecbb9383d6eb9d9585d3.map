{"version":3,"names":["_getJestObj","mock","require","jest","Object","defineProperty","window","writable","value","fn","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","global","ResizeObserver","observe","unobserve","disconnect","IntersectionObserver","getPropertyValue","expect","extend","toHaveClass","received","className","message","pass","classList","contains","toHaveStyle","style","getAttribute","includes","process","env","NEXT_PUBLIC_API_URL","NEXT_PUBLIC_APP_NAME","beforeAll","console","log","afterEach","clearAllMocks","afterAll"],"sources":["setup.ts"],"sourcesContent":["import '@testing-library/jest-dom';\n\n// 模拟浏览器API\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(), // deprecated\n    removeListener: jest.fn(), // deprecated\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n});\n\n// 模拟 ResizeObserver\nglobal.ResizeObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}));\n\n// 模拟 IntersectionObserver\nglobal.IntersectionObserver = jest.fn().mockImplementation(() => ({\n  observe: jest.fn(),\n  unobserve: jest.fn(),\n  disconnect: jest.fn(),\n}));\n\n// 模拟 getComputedStyle\nObject.defineProperty(window, 'getComputedStyle', {\n  value: () => ({\n    getPropertyValue: () => '',\n  }),\n});\n\n// 模拟 scrollTo\nObject.defineProperty(window, 'scrollTo', {\n  value: jest.fn(),\n});\n\n// 自定义 Jest 匹配器\nexpect.extend({\n  toHaveClass(received: Element | null, className: string) {\n    if (!received) {\n      return {\n        message: () => `expected element to exist but received null`,\n        pass: false,\n      };\n    }\n    \n    const pass = received.classList.contains(className);\n    if (pass) {\n      return {\n        message: () => `expected element not to have class ${className}`,\n        pass: true,\n      };\n    } else {\n      return {\n        message: () => `expected element to have class ${className}`,\n        pass: false,\n      };\n    }\n  },\n  toHaveStyle(received: Element, style: string) {\n    const pass = received.getAttribute('style')?.includes(style) || false;\n    if (pass) {\n      return {\n        message: () => `expected element not to have style ${style}`,\n        pass: true,\n      };\n    } else {\n      return {\n        message: () => `expected element to have style ${style}`,\n        pass: false,\n      };\n    }\n  },\n});\n\n// 模拟静态资源\njest.mock('*.css', () => ({}));\njest.mock('*.scss', () => ({}));\njest.mock('*.sass', () => ({}));\njest.mock('*.less', () => ({}));\n\n// 模拟图片文件\njest.mock('*.png', () => 'mocked-png');\njest.mock('*.jpg', () => 'mocked-jpg');\njest.mock('*.jpeg', () => 'mocked-jpeg');\njest.mock('*.gif', () => 'mocked-gif');\njest.mock('*.svg', () => 'mocked-svg');\njest.mock('*.webp', () => 'mocked-webp');\n\n// 模拟字体文件\njest.mock('*.woff', () => 'mocked-woff');\njest.mock('*.woff2', () => 'mocked-woff2');\njest.mock('*.ttf', () => 'mocked-ttf');\njest.mock('*.eot', () => 'mocked-eot');\njest.mock('*.otf', () => 'mocked-otf');\n\n// 模拟音频和视频文件\njest.mock('*.mp3', () => 'mocked-mp3');\njest.mock('*.m4a', () => 'mocked-m4a');\njest.mock('*.aac', () => 'mocked-aac');\njest.mock('*.oga', () => 'mocked-oga');\njest.mock('*.mp4', () => 'mocked-mp4');\njest.mock('*.webm', () => 'mocked-webm');\njest.mock('*.wav', () => 'mocked-wav');\n\n// 设置环境变量\nprocess.env.NEXT_PUBLIC_API_URL = 'http://localhost:3000/api';\nprocess.env.NEXT_PUBLIC_APP_NAME = 'CyberNuwa Test';\n\n// 全局测试设置\nbeforeAll(() => {\n  // 设置测试环境\n  console.log('Setting up test environment...');\n});\n\nafterEach(() => {\n  // 清理测试\n  jest.clearAllMocks();\n});\n\nafterAll(() => {\n  // 清理测试环境\n  console.log('Cleaning up test environment...');\n});\n"],"mappings":"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","ignoreList":[]}