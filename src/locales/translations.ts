import { TranslationKeys } from '@/types/translations';

// Chinese translations
export const zhTranslations: TranslationKeys = {
  common: {
    loading: 'åŠ è½½ä¸­...',
    error: 'é”™è¯¯',
    success: 'æˆåŠŸ',
    cancel: 'å–æ¶ˆ',
    confirm: 'ç¡®è®¤',
    save: 'ä¿å­˜',
    delete: 'åˆ é™¤',
    edit: 'ç¼–è¾‘',
    view: 'æŸ¥çœ‹',
    back: 'è¿”å›',
    next: 'ä¸‹ä¸€æ­¥',
    previous: 'ä¸Šä¸€æ­¥',
    submit: 'æäº¤',
    reset: 'é‡ç½®',
    search: 'æœç´¢',
    filter: 'ç­›é€‰',
    sort: 'æ’åº',
    refresh: 'åˆ·æ–°',
    close: 'å…³é—­',
    open: 'æ‰“å¼€',
    yes: 'æ˜¯',
    no: 'å¦',
    ok: 'ç¡®å®š',
    retry: 'é‡è¯•',
    copy: 'å¤åˆ¶',
    share: 'åˆ†äº«',
    download: 'ä¸‹è½½',
    upload: 'ä¸Šä¼ ',
    settings: 'è®¾ç½®',
    profile: 'ä¸ªäººèµ„æ–™',
    logout: 'é€€å‡ºç™»å½•',
    login: 'ç™»å½•',
    register: 'æ³¨å†Œ',
  },
  pages: {
    home: {
      title: 'CyberNuwa',
      subtitle: 'AIæ™ºèƒ½ä½“è®­ç»ƒä¸åä½œå¹³å°',
      description: 'æ„å»ºã€è®­ç»ƒå’Œéƒ¨ç½²AIæ™ºèƒ½ä½“ï¼Œä¸ç¤¾åŒºåä½œå…±åˆ›æœªæ¥',
      getStarted: 'å¼€å§‹ä½¿ç”¨',
      learnMore: 'äº†è§£æ›´å¤š',
      features: {
        title: 'æ ¸å¿ƒåŠŸèƒ½',
        aiTraining: 'AIè®­ç»ƒ',
        collaboration: 'åä½œå¹³å°',
        community: 'ç¤¾åŒºç”Ÿæ€',
      },
    },
    wishes: {
      title: 'ğŸ’« æ„¿æœ›å¹¿åœº',
      subtitle: 'åˆ†äº«ä½ çš„åˆ›æ„æƒ³æ³•ä¸éœ€æ±‚',
      currentDisplay: 'å½“å‰æ˜¾ç¤º',
      wishes: 'ä¸ªæ„¿æœ›',
      loading: 'åŠ è½½ä¸­...',
      loadingFailed: 'åŠ è½½å¤±è´¥',
      retry: 'é‡è¯•',
      copyright: 'Â© 2024 CyberNuwa. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚',
      currentLanguage: 'å½“å‰è¯­è¨€ï¼šä¸­æ–‡',
      currentLanguageEn: 'Current Language: English',
      defaultWishes: {
        title: 'æ™ºèƒ½ä½“è®­ç»ƒåŠ©æ‰‹',
        description: 'éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå¸®åŠ©è®­ç»ƒAIæ™ºèƒ½ä½“çš„åŠ©æ‰‹å·¥å…·',
        author: 'AIçˆ±å¥½è€…',
        tags: 'AIè®­ç»ƒ,æ™ºèƒ½ä½“,åŠ©æ‰‹',
      },
      add: {
        title: 'æ·»åŠ æ–°æ„¿æœ›',
        subtitle: 'åˆ†äº«ä½ çš„åˆ›æ„æƒ³æ³•',
        form: {
          title: 'æ„¿æœ›æ ‡é¢˜',
          titlePlaceholder: 'è¾“å…¥æ„¿æœ›æ ‡é¢˜...',
          description: 'æ„¿æœ›æè¿°',
          descriptionPlaceholder: 'è¯¦ç»†æè¿°ä½ çš„æ„¿æœ›...',
          tags: 'æ ‡ç­¾',
          tagsPlaceholder: 'ç”¨é€—å·åˆ†éš”æ ‡ç­¾...',
          submit: 'æäº¤æ„¿æœ›',
          back: 'è¿”å›',
        },
      },
    },
    agents: {
      title: 'ğŸ¤– æ™ºèƒ½ä½“å¹¿åœº',
      subtitle: 'æ¢ç´¢å’Œè®­ç»ƒAIæ™ºèƒ½ä½“',
      creator: 'åˆ›å»ºè€…',
      creatorBy: 'åˆ›å»ºè€…ï¼š',
      trainingProgress: 'è®­ç»ƒè¿›åº¦',
      viewDetails: 'æŸ¥çœ‹è¯¦æƒ…',
      use: 'ä½¿ç”¨',
      noAgentsYet: 'æš‚æ— æ™ºèƒ½ä½“',
      noAgentsDesc: 'å¼€å§‹è®­ç»ƒä½ çš„ç¬¬ä¸€ä¸ªAIæ™ºèƒ½ä½“',
      startTraining: 'å¼€å§‹è®­ç»ƒ',
      avgProgress: 'å¹³å‡å®Œæˆåº¦',
    },
    launchMission: {
      title: 'ğŸš€ å‘å¸ƒä»»åŠ¡',
      subtitle: 'åˆ›å»ºæ–°çš„åä½œä»»åŠ¡',
      form: {
        title: 'ä»»åŠ¡æ ‡é¢˜',
        titlePlaceholder: 'è¾“å…¥ä»»åŠ¡æ ‡é¢˜...',
        description: 'ä»»åŠ¡æè¿°',
        descriptionPlaceholder: 'è¯¦ç»†æè¿°ä½ çš„ä»»åŠ¡éœ€æ±‚...',
        tags: 'æ ‡ç­¾',
        tagsPlaceholder: 'ç”¨é€—å·åˆ†éš”æ ‡ç­¾...',
        submit: 'ğŸš€ å‘å¸ƒä»»åŠ¡',
        submitting: 'æäº¤ä¸­...',
        back: 'è¿”å›',
      },
    },
    trainAgent: {
      title: 'ğŸ¯ è®­ç»ƒæ™ºèƒ½ä½“',
      subtitle: 'å®šåˆ¶åŒ–AIæ™ºèƒ½ä½“è®­ç»ƒ',
    },
    roles: {
      title: 'ğŸ‘¥ è§’è‰²ç®¡ç†',
      subtitle: 'ç®¡ç†ç”¨æˆ·è§’è‰²å’Œæƒé™',
    },
    narratives: {
      title: 'ğŸ“– å…ƒå™äº‹å¹¿åœº',
      subtitle: 'è®°å½•ç¤¾åŒºå‘å±•ä¸æ™ºèƒ½ä½“ä¼ è®°',
      backHome: 'â† è¿”å›é¦–é¡µ',
      total: 'æ€»å™äº‹',
      agentBiographies: 'æ™ºèƒ½ä½“ä¼ è®°',
      communityHistory: 'ç¤¾åŒºå†å²',
      totalLikes: 'æ€»ç‚¹èµ',
      readMore: 'é˜…è¯»æ›´å¤š',
      other: 'å…¶ä»–',
      shareStory: 'åˆ†äº«æ•…äº‹',
      shareButton: 'åˆ†äº«æˆ‘çš„æ•…äº‹',
      shareDesc1: 'è®°å½•ä½ åœ¨å¹³å°ä¸Šçš„é‡è¦æ—¶åˆ»',
      shareDesc2: 'åˆ†äº«ä½ çš„æ™ºèƒ½ä½“è®­ç»ƒå¿ƒå¾—',
      timelineTitle: 'å‘å±•æ—¶é—´çº¿',
      types: {
        community: 'ç¤¾åŒºå†å²',
        agentBiography: 'æ™ºèƒ½ä½“ä¼ è®°',
        other: 'å…¶ä»–',
      },
    },
    taskSquare: {
      title: 'ğŸ›ï¸ ä»»åŠ¡å¹¿åœº',
      subtitle: 'æµè§ˆæ‰€æœ‰å…¬å¼€ä»»åŠ¡ä¸è¿›åº¦',
      backHome: 'â† è¿”å›é¦–é¡µ',
      total: 'æ€»ä»»åŠ¡',
      open: 'å¼€æ”¾ä¸­',
      inProgress: 'è¿›è¡Œä¸­',
      completed: 'å·²å®Œæˆ',
      closed: 'å·²å…³é—­',
      pending: 'å¾…å¤„ç†',
      high: 'é«˜',
      medium: 'ä¸­',
      low: 'ä½',
      reward: 'å¥–åŠ±',
      participants: 'å‚ä¸è€…',
      assignee: 'è´Ÿè´£äºº',
      experience: 'ç»éªŒå€¼',
    },
  },
  components: {
    wishCard: {
      like: 'ç‚¹èµ',
      comment: 'è¯„è®º',
      share: 'åˆ†äº«',
      edit: 'ç¼–è¾‘',
      delete: 'åˆ é™¤',
      status: {
        pending: 'å¾…å¤„ç†',
        inProgress: 'è¿›è¡Œä¸­',
        completed: 'å·²å®Œæˆ',
        cancelled: 'å·²å–æ¶ˆ',
      },
      priority: {
        low: 'ä½',
        medium: 'ä¸­',
        high: 'é«˜',
        urgent: 'ç´§æ€¥',
      },
    },
    translationControls: {
      language: 'è¯­è¨€',
      autoTranslate: 'è‡ªåŠ¨ç¿»è¯‘',
      settings: 'è®¾ç½®',
    },
    errorBoundary: {
      title: 'å‡ºç°é”™è¯¯',
      message: 'æŠ±æ­‰ï¼Œé¡µé¢å‡ºç°äº†é—®é¢˜',
      retry: 'é‡è¯•',
      report: 'æŠ¥å‘Šé—®é¢˜',
    },
    apiStatus: {
      online: 'åœ¨çº¿',
      offline: 'ç¦»çº¿',
      connecting: 'è¿æ¥ä¸­',
      error: 'è¿æ¥é”™è¯¯',
    },
  },
  forms: {
    common: {
      required: 'å¿…å¡«',
      optional: 'å¯é€‰',
      minLength: 'æœ€å°é•¿åº¦',
      maxLength: 'æœ€å¤§é•¿åº¦',
      invalidFormat: 'æ ¼å¼æ— æ•ˆ',
    },
    validation: {
      required: 'æ­¤å­—æ®µä¸ºå¿…å¡«é¡¹',
      minLength: 'é•¿åº¦ä¸èƒ½å°‘äº {min} ä¸ªå­—ç¬¦',
      maxLength: 'é•¿åº¦ä¸èƒ½è¶…è¿‡ {max} ä¸ªå­—ç¬¦',
      invalidEmail: 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€',
      invalidUrl: 'è¯·è¾“å…¥æœ‰æ•ˆçš„URL',
      invalidNumber: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—',
      invalidDate: 'è¯·è¾“å…¥æœ‰æ•ˆçš„æ—¥æœŸ',
    },
  },
  errors: {
    common: {
      unexpected: 'å‘ç”Ÿæ„å¤–é”™è¯¯',
      notFound: 'é¡µé¢æœªæ‰¾åˆ°',
      unauthorized: 'æœªæˆæƒè®¿é—®',
      forbidden: 'ç¦æ­¢è®¿é—®',
      serverError: 'æœåŠ¡å™¨é”™è¯¯',
    },
    network: {
      connectionFailed: 'è¿æ¥å¤±è´¥',
      timeout: 'è¯·æ±‚è¶…æ—¶',
      serverUnavailable: 'æœåŠ¡å™¨ä¸å¯ç”¨',
    },
  },
};

// English translations
export const enTranslations: TranslationKeys = {
  common: {
    loading: 'Loading...',
    error: 'Error',
    success: 'Success',
    cancel: 'Cancel',
    confirm: 'Confirm',
    save: 'Save',
    delete: 'Delete',
    edit: 'Edit',
    view: 'View',
    back: 'Back',
    next: 'Next',
    previous: 'Previous',
    submit: 'Submit',
    reset: 'Reset',
    search: 'Search',
    filter: 'Filter',
    sort: 'Sort',
    refresh: 'Refresh',
    close: 'Close',
    open: 'Open',
    yes: 'Yes',
    no: 'No',
    ok: 'OK',
    retry: 'Retry',
    copy: 'Copy',
    share: 'Share',
    download: 'Download',
    upload: 'Upload',
    settings: 'Settings',
    profile: 'Profile',
    logout: 'Logout',
    login: 'Login',
    register: 'Register',
  },
  pages: {
    home: {
      title: 'CyberNuwa',
      subtitle: 'AI Agent Training & Collaboration Platform',
      description:
        'Build, train and deploy AI agents, collaborate with community to create the future',
      getStarted: 'Get Started',
      learnMore: 'Learn More',
      features: {
        title: 'Core Features',
        aiTraining: 'AI Training',
        collaboration: 'Collaboration',
        community: 'Community',
      },
    },
    wishes: {
      title: 'ğŸ’« Wish Square',
      subtitle: 'Share your creative ideas and needs',
      currentDisplay: 'Currently displaying',
      wishes: 'wishes',
      loading: 'Loading...',
      loadingFailed: 'Loading failed',
      retry: 'Retry',
      copyright: 'Â© 2024 CyberNuwa. All rights reserved.',
      currentLanguage: 'Current Language: English',
      currentLanguageEn: 'Current Language: English',
      defaultWishes: {
        title: 'Agent Training Assistant',
        description: 'Need an assistant tool to help train AI agents',
        author: 'AI Enthusiast',
        tags: 'AI Training,Agent,Assistant',
      },
      add: {
        title: 'Add New Wish',
        subtitle: 'Share your creative ideas',
        form: {
          title: 'Wish Title',
          titlePlaceholder: 'Enter wish title...',
          description: 'Wish Description',
          descriptionPlaceholder: 'Describe your wish in detail...',
          tags: 'Tags',
          tagsPlaceholder: 'Separate tags with commas...',
          submit: 'Submit Wish',
          back: 'Back',
        },
      },
    },
    agents: {
      title: 'ğŸ¤– Agent Square',
      subtitle: 'Explore and train AI agents',
      creator: 'Creator',
      creatorBy: 'Creator: ',
      trainingProgress: 'Training Progress',
      viewDetails: 'View Details',
      use: 'Use',
      noAgentsYet: 'No agents yet',
      noAgentsDesc: 'Start training your first AI agent',
      startTraining: 'Start Training',
      avgProgress: 'Average Progress',
    },
    launchMission: {
      title: 'ğŸš€ Launch Mission',
      subtitle: 'Create new collaboration tasks',
      form: {
        title: 'Mission Title',
        titlePlaceholder: 'Enter your creative mission title...',
        description: 'Mission Description',
        descriptionPlaceholder:
          'Describe your mission requirements, goals, and expected outcomes in detail...',
        tags: 'Tags',
        tagsPlaceholder:
          'Comma-separated tags, e.g.: AI, Creative, Collaboration',
        submit: 'Submit Mission',
        submitting: 'Submitting...',
        back: 'Back to Home',
      },
    },
    trainAgent: {
      title: 'ğŸ¯ Train Agent',
      subtitle: 'Customized AI agent training',
    },
    roles: {
      title: 'ğŸ‘¥ Role Management',
      subtitle: 'Manage user roles and permissions',
    },
    narratives: {
      title: 'ğŸ“– Metanarrative Square',
      subtitle: 'Record community development and Agent biographies',
      backHome: 'â† Back to Home',
      total: 'Total Narratives',
      agentBiographies: 'Agent Biographies',
      communityHistory: 'Community History',
      totalLikes: 'Total Likes',
      readMore: 'Read More',
      other: 'Other',
      shareStory: 'Share Your Story',
      shareButton: 'Share My Story',
      shareDesc1: 'Record your important moments on the platform',
      shareDesc2: 'Share your agent training insights',
      timelineTitle: 'Development Timeline',
      types: {
        community: 'Community History',
        agentBiography: 'Agent Biography',
        other: 'Other',
      },
    },
    taskSquare: {
      title: 'ğŸ›ï¸ Task Square',
      subtitle: 'Browse all public tasks and progress',
      backHome: 'â† Back to Home',
      total: 'Total Tasks',
      open: 'Open',
      inProgress: 'In Progress',
      completed: 'Completed',
      closed: 'Closed',
      pending: 'Pending',
      high: 'High',
      medium: 'Medium',
      low: 'Low',
      reward: 'Reward',
      participants: 'Participants',
      assignee: 'Assignee',
      experience: 'XP',
    },
  },
  components: {
    wishCard: {
      like: 'Like',
      comment: 'Comment',
      share: 'Share',
      edit: 'Edit',
      delete: 'Delete',
      status: {
        pending: 'Pending',
        inProgress: 'In Progress',
        completed: 'Completed',
        cancelled: 'Cancelled',
      },
      priority: {
        low: 'Low',
        medium: 'Medium',
        high: 'High',
        urgent: 'Urgent',
      },
    },
    translationControls: {
      language: 'Language',
      autoTranslate: 'Auto Translate',
      settings: 'Settings',
    },
    errorBoundary: {
      title: 'Something went wrong',
      message: 'Sorry, there was a problem with this page',
      retry: 'Try again',
      report: 'Report issue',
    },
    apiStatus: {
      online: 'Online',
      offline: 'Offline',
      connecting: 'Connecting',
      error: 'Connection Error',
    },
  },
  forms: {
    common: {
      required: 'Required',
      optional: 'Optional',
      minLength: 'Minimum length',
      maxLength: 'Maximum length',
      invalidFormat: 'Invalid format',
    },
    validation: {
      required: 'This field is required',
      minLength: 'Must be at least {min} characters',
      maxLength: 'Must be no more than {max} characters',
      invalidEmail: 'Please enter a valid email address',
      invalidUrl: 'Please enter a valid URL',
      invalidNumber: 'Please enter a valid number',
      invalidDate: 'Please enter a valid date',
    },
  },
  errors: {
    common: {
      unexpected: 'An unexpected error occurred',
      notFound: 'Page not found',
      unauthorized: 'Unauthorized access',
      forbidden: 'Access forbidden',
      serverError: 'Server error',
    },
    network: {
      connectionFailed: 'Connection failed',
      timeout: 'Request timeout',
      serverUnavailable: 'Server unavailable',
    },
  },
};

// Translation manager class
export class TranslationManager {
  private translations: Record<string, TranslationKeys> = {
    zh: zhTranslations,
    en: enTranslations,
  };

  getTranslation(path: string, language: 'zh' | 'en'): string {
    const keys = path.split('.');
    let current: any = this.translations[language];

    for (const key of keys) {
      if (current && typeof current === 'object' && key in current) {
        current = current[key];
      } else {
        return path; // Return path if translation not found
      }
    }

    return typeof current === 'string' ? current : path;
  }

  validateTranslations(): string[] {
    const errors: string[] = [];

    // Validate that all translation keys exist in both languages
    const zhKeys = this.getAllKeys(zhTranslations);
    const enKeys = this.getAllKeys(enTranslations);

    const missingInZh = enKeys.filter(key => !this.hasKey(zhTranslations, key));
    const missingInEn = zhKeys.filter(key => !this.hasKey(enTranslations, key));

    missingInZh.forEach(key =>
      errors.push(`Missing Chinese translation for: ${key}`)
    );
    missingInEn.forEach(key =>
      errors.push(`Missing English translation for: ${key}`)
    );

    return errors;
  }

  private getAllKeys(obj: any, prefix = ''): string[] {
    const keys: string[] = [];

    for (const key in obj) {
      if (obj.hasOwnProperty(key)) {
        const currentKey = prefix ? `${prefix}.${key}` : key;
        if (typeof obj[key] === 'object' && obj[key] !== null) {
          keys.push(...this.getAllKeys(obj[key], currentKey));
        } else {
          keys.push(currentKey);
        }
      }
    }

    return keys;
  }

  private hasKey(obj: any, path: string): boolean {
    const keys = path.split('.');
    let current = obj;

    for (const key of keys) {
      if (current && typeof current === 'object' && key in current) {
        current = current[key];
      } else {
        return false;
      }
    }

    return true;
  }
}

// Export default instance
export const translationManager = new TranslationManager();
